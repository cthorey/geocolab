{% extends "layout.html" %}
{% from 'query-macro.html' import query_based,abstract_based %}

{% block content %}
    <div class="container">
        <!-- Block with the query -->
        {% block query %}
            {%if searchby == 'byabstract' %}
                {{ abstract_based() }}
            {% elif searchby == 'byquery' %}
                {{ query_based() }}
            {% endif %}
        {% endblock %}
        
        <!-- Block with the massage (success/nothing founds) -->    
        {%block message%}
        {%endblock%}
        
        <!-- Block with the app itself collab/schedule -->    
        {%block app%}
        {%endblock%}

        {%block increasenb%}
        {% endblock %}

        <!-- js associated with the query block -->
        {%if searchby=='byabstract' %}
            <script text="type/javascript">
             $(document).ready(function() {
                 dropdownMenuNav();
                 autocompleteAuthor();
                 onSearch()
             });
            </script>
        {% elif searchby=='byquery' %}
            <script text="type/javascript">
             $(document).ready(function() {
                 dropdownMenuNav();
                 showQuery();
                 onSearch()
             });
            </script>            
        {% endif %}

        <!-- js associated with the app itself -->
        {%block appjs %}
        {%endblock%}
    </div>
{% endblock %}







